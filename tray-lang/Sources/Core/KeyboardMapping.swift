import Foundation

// MARK: - Keyboard Mapping
struct KeyboardMapping {
    static let defaultMapping: [String: String] = [
        // Русская раскладка → Английская раскладка (строчные)
        "й": "q", "ц": "w", "у": "e", "к": "r", "е": "t", "н": "y", "г": "u", "ш": "i", "щ": "o", "з": "p",
        "ф": "a", "ы": "s", "в": "d", "а": "f", "п": "g", "р": "h", "о": "j", "л": "k", "д": "l",
        "я": "z", "ч": "x", "с": "c", "м": "v", "и": "b", "т": "n",
        
        // Русская раскладка → Английская раскладка (заглавные)
        "Й": "Q", "Ц": "W", "У": "E", "К": "R", "Е": "T", "Н": "Y", "Г": "U", "Ш": "I", "Щ": "O", "З": "P",
        "Ф": "A", "Ы": "S", "В": "D", "А": "F", "П": "G", "Р": "H", "О": "J", "Л": "K", "Д": "L",
        "Я": "Z", "Ч": "X", "С": "C", "М": "V", "И": "B", "Т": "N",
        
        // Специальные символы
        "ё": "`", "ъ": "'", "э": "[", "х": "]", "ж": ";", "ь": "m", "ю": ".",
        "Ё": "~", "Ъ": "\"", "Э": "{", "Х": "}", "Ж": ":", "Ь": "M", "Ю": ">",
        
        // Цифры и символы
        "1": "1", "2": "2", "3": "3", "4": "4", "5": "5", "6": "6", "7": "7", "8": "8", "9": "9", "0": "0",
        "-": "-", "=": "=", "[": "[", "]": "]", "\\": "\\", "'": "'", ",": "б", ".": ".", "/": "/",
        "!": "!", "@": "@", "#": "#", "$": "$", "%": "%", "^": ",", "&": "&", "*": "*", "(": "(", ")": ")",
        "_": "_", "+": "+", "{": "{", "}": "}", "|": "|", "\"": "\"", "<": "<", ">": ">", "?": "?",
        "~": "~", "`": "`", "№": "#"
    ]
    
    static func createInverseMapping(from mapping: [String: String]) -> [String: String] {
        var inverse: [String: String] = [:]
        for (from, to) in mapping {
            if inverse[to] == nil {
                inverse[to] = from
            }
        }
        return inverse
    }
} 